# ğŸ”„ è‡ªåŠ¨æ›´æ–°æœ€æ–°æœŸå·è¯´æ˜

## ğŸ“‹ é—®é¢˜è¯´æ˜

ä¹‹å‰"é˜…è¯»æœ€æ–°ä¸€æœŸ"æŒ‰é’®å’Œå¯¼èˆªæ çš„é“¾æ¥æ˜¯ç¡¬ç¼–ç çš„ `/docs/issue-368`ï¼Œæ¯æ¬¡æœ‰æ–°æ–‡ç« æ—¶éœ€è¦æ‰‹åŠ¨æ›´æ–°å¤šä¸ªæ–‡ä»¶ã€‚

## âœ… è§£å†³æ–¹æ¡ˆ

ç°åœ¨å·²ç»å®ç°**å®Œå…¨è‡ªåŠ¨åŒ–**ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æœ€æ–°ä¸€æœŸå¹¶æ›´æ–°æ‰€æœ‰ç›¸å…³é“¾æ¥ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### 1. åˆ›å»ºçš„æ–°æ–‡ä»¶

#### `scripts/get-latest-issue.ts`
è‡ªåŠ¨æ‰«æ `docs/` ç›®å½•ï¼Œæ‰¾åˆ°æœ€å¤§æœŸå·ï¼š
```typescript
export function getLatestIssueNumber(): number
export function getIssueTitle(issueNumber: number): string
```

#### `scripts/update-index.ts`
è‡ªåŠ¨æ›´æ–° `index.md` ä¸­çš„ç¡¬ç¼–ç é“¾æ¥ï¼š
- é¦–é¡µ"é˜…è¯»æœ€æ–°ä¸€æœŸ"æŒ‰é’®
- "æœ€æ–°æœŸåˆŠ"éƒ¨åˆ†çš„é“¾æ¥å’Œæ ‡é¢˜

#### `.vitepress/theme/utils.ts`
æä¾›ä¸»é¢˜å·¥å…·å‡½æ•°ï¼Œæ–¹ä¾¿åœ¨ä¸»é¢˜ä¸­ä½¿ç”¨

---

## ğŸ”§ ä¿®æ”¹çš„æ–‡ä»¶

### 1. `.vitepress/config.ts`
```typescript
import { getLatestIssueNumber } from '../scripts/get-latest-issue'

// åŠ¨æ€è·å–æœ€æ–°æœŸå·
const latestIssue = getLatestIssueNumber()
const latestIssueLink = `/docs/issue-${latestIssue}`

export default defineConfig({
  themeConfig: {
    nav: [
      { text: 'æœ€æ–°æœŸåˆŠ', link: latestIssueLink },  // âœ… è‡ªåŠ¨æ›´æ–°
      { 
        text: 'å¹´ä»½', 
        items: [
          { text: '2025', link: latestIssueLink },   // âœ… è‡ªåŠ¨æ›´æ–°
          // ...
        ]
      }
    ]
  }
})
```

### 2. `package.json`
æ·»åŠ æ–°çš„å‘½ä»¤ï¼š
```json
{
  "scripts": {
    "build": "npm run update-index && vitepress build",  // âœ… æ„å»ºå‰è‡ªåŠ¨æ›´æ–°
    "update-index": "tsx scripts/update-index.ts",       // æ‰‹åŠ¨æ›´æ–°å‘½ä»¤
    "get-latest": "tsx scripts/get-latest-issue.ts"      // æŸ¥çœ‹æœ€æ–°æœŸå·
  }
}
```

### 3. `vercel.json`
æ›´æ–°æ„å»ºå‘½ä»¤ï¼š
```json
{
  "buildCommand": "npm run update-index && npm run build && npm run generate-rss"
}
```

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### è‡ªåŠ¨æ›´æ–°ï¼ˆæ¨èï¼‰

**ä»€ä¹ˆéƒ½ä¸éœ€è¦åšï¼** æ¯æ¬¡æ„å»ºæ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

1. **æœ¬åœ°å¼€å‘æ„å»º**
   ```bash
   npm run build
   ```
   è‡ªåŠ¨è¿è¡Œ `update-index` â†’ æ›´æ–°é“¾æ¥ â†’ æ„å»ºç½‘ç«™

2. **GitHub Actions éƒ¨ç½²**
   æ¨é€åˆ° master åˆ†æ”¯åï¼Œå·¥ä½œæµä¼šè‡ªåŠ¨ï¼š
   - æ›´æ–° `index.md` ä¸­çš„é“¾æ¥
   - æ„å»ºç½‘ç«™
   - ç”Ÿæˆ RSS
   - éƒ¨ç½²

3. **Vercel éƒ¨ç½²**
   åŒæ ·ä¼šåœ¨æ„å»ºå‰è‡ªåŠ¨æ›´æ–°é“¾æ¥

### æ‰‹åŠ¨æ›´æ–°ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦æ‰‹åŠ¨æ›´æ–°é“¾æ¥ï¼š

```bash
# æ›´æ–° index.md ä¸­çš„é“¾æ¥
npm run update-index

# æŸ¥çœ‹å½“å‰æœ€æ–°æœŸå·
npm run get-latest
```

---

## ğŸ“ æ›´æ–°æµç¨‹

```
åŒæ­¥ä¸Šæ¸¸ä»“åº“ (æ–°æ–‡ç«  issue-369.md)
    â†“
è§¦å‘è‡ªåŠ¨éƒ¨ç½²
    â†“
æ‰§è¡Œ npm run build
    â†“
1ï¸âƒ£ npm run update-index
   - æ‰«æ docs/ ç›®å½•
   - æ‰¾åˆ°æœ€æ–°æœŸå·ï¼š369
   - æ›´æ–° index.md ä¸­çš„é“¾æ¥
    â†“
2ï¸âƒ£ vitepress build
   - è¯»å– .vitepress/config.ts
   - åŠ¨æ€è·å–æœ€æ–°æœŸå·
   - ç”Ÿæˆå¯¼èˆªæ é“¾æ¥
    â†“
3ï¸âƒ£ npm run generate-rss
   - ç”Ÿæˆ RSS Feed
    â†“
éƒ¨ç½²å®Œæˆ âœ…
```

---

## ğŸ¯ æ›´æ–°çš„ä½ç½®

### âœ… å·²è‡ªåŠ¨åŒ–çš„ä½ç½®

| ä½ç½® | æ–‡ä»¶ | æ›´æ–°æ–¹å¼ |
|------|------|---------|
| é¦–é¡µ"é˜…è¯»æœ€æ–°ä¸€æœŸ"æŒ‰é’® | `index.md` | `update-index.ts` è‡ªåŠ¨æ›´æ–° |
| é¦–é¡µ"æœ€æ–°æœŸåˆŠ"éƒ¨åˆ† | `index.md` | `update-index.ts` è‡ªåŠ¨æ›´æ–° |
| å¯¼èˆªæ "æœ€æ–°æœŸåˆŠ" | `.vitepress/config.ts` | åŠ¨æ€è·å–æœ€æ–°æœŸå· |
| å¯¼èˆªæ "2025"å¹´ä»½ | `.vitepress/config.ts` | åŠ¨æ€è·å–æœ€æ–°æœŸå· |

### âš ï¸ ä»éœ€æ‰‹åŠ¨ç»´æŠ¤çš„ä½ç½®

| ä½ç½® | è¯´æ˜ |
|------|------|
| å¹´ä»½å¯¼èˆª (2024, 2023, etc.) | è¿™äº›æ˜¯å†å²å½’æ¡£é“¾æ¥ï¼Œä¸éœ€è¦é¢‘ç¹æ›´æ–° |
| README.md | åŸä»“åº“å†…å®¹ï¼Œç”±åŒæ­¥è‡ªåŠ¨æ›´æ–° |

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•æ­¥éª¤

1. **åˆ›å»ºæµ‹è¯•æ–‡ä»¶**
   ```bash
   # åˆ›å»ºä¸€ä¸ªæ–°çš„æµ‹è¯•æ–‡ä»¶
   cp docs/issue-368.md docs/issue-369.md
   ```

2. **è¿è¡Œæ›´æ–°è„šæœ¬**
   ```bash
   npm run update-index
   ```
   åº”è¯¥çœ‹åˆ°ï¼š
   ```
   ğŸ“ æ›´æ–° index.md...
   æœ€æ–°ä¸€æœŸ: 369
   æ ‡é¢˜: xxx
   é“¾æ¥: /docs/issue-369
   âœ… å·²æ›´æ–°é¦–é¡µæŒ‰é’®é“¾æ¥
   âœ… å·²æ›´æ–°"æœ€æ–°æœŸåˆŠ"éƒ¨åˆ†
   ```

3. **æ£€æŸ¥æ–‡ä»¶**
   ```bash
   # æŸ¥çœ‹ index.md æ˜¯å¦æ›´æ–°
   grep "issue-369" index.md
   ```

4. **æ„å»ºæµ‹è¯•**
   ```bash
   npm run build
   ```

5. **æ¸…ç†æµ‹è¯•æ–‡ä»¶**
   ```bash
   rm docs/issue-369.md
   ```

---

## ğŸ’¡ ä¼˜åŠ¿

### âœ… å®Œå…¨è‡ªåŠ¨åŒ–
- æ— éœ€æ‰‹åŠ¨ç¼–è¾‘ä»»ä½•æ–‡ä»¶
- åŒæ­¥æ–°æ–‡ç« åè‡ªåŠ¨æ›´æ–°é“¾æ¥
- æ„å»ºè¿‡ç¨‹è‡ªåŠ¨æ‰§è¡Œ

### âœ… é›¶ç»´æŠ¤æˆæœ¬
- è®¾ç½®ä¸€æ¬¡ï¼Œæ°¸ä¹…ç”Ÿæ•ˆ
- ä¸ä¼šå¿˜è®°æ›´æ–°é“¾æ¥
- å‡å°‘äººä¸ºé”™è¯¯

### âœ… æ™ºèƒ½æ£€æµ‹
- è‡ªåŠ¨æ‰«ææ‰€æœ‰ issue æ–‡ä»¶
- å‡†ç¡®è¯†åˆ«æœ€æ–°æœŸå·
- æå–æ–‡ç« æ ‡é¢˜

### âœ… å…¼å®¹æ€§å¥½
- æ”¯æŒ GitHub Pages
- æ”¯æŒ Vercel
- æ”¯æŒ Cloudflare Pages
- æ”¯æŒæœ¬åœ°æ„å»º

---

## ğŸ” å·¥ä½œåŸç†

### æœŸå·æ£€æµ‹ç®—æ³•

```typescript
// 1. æ‰«æ docs/ ç›®å½•
const files = fs.readdirSync('docs')

// 2. ç­›é€‰ issue æ–‡ä»¶
const issueFiles = files.filter(file => 
  file.startsWith('issue-') && file.endsWith('.md')
)

// 3. æå–æœŸå·
const numbers = issueFiles.map(file => {
  const match = file.match(/issue-(\d+)\.md/)
  return parseInt(match[1])
})

// 4. è·å–æœ€å¤§å€¼
const latest = Math.max(...numbers)
```

### é“¾æ¥æ›´æ–°ç®—æ³•

```typescript
// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶æ›¿æ¢
content = content.replace(
  /(\s+text: é˜…è¯»æœ€æ–°ä¸€æœŸ\s+link: )\/docs\/issue-\d+/,
  `$1/docs/issue-${latestIssue}`
)
```

---

## ğŸš¨ æ³¨æ„äº‹é¡¹

### 1. æ„å»ºæ—¶é—´
é¦–æ¬¡æ„å»ºæ—¶ä¼šå¤šæ‰§è¡Œä¸€ä¸ªæ›´æ–°è„šæœ¬ï¼Œå¢åŠ çº¦ 0.5-1 ç§’

### 2. Git æäº¤
`index.md` ä¼šåœ¨æ¯æ¬¡æ„å»ºæ—¶è¢«ä¿®æ”¹ï¼Œä½†ä¸ä¼šè‡ªåŠ¨æäº¤ã€‚å¦‚æœéœ€è¦æäº¤ï¼Œæ‰‹åŠ¨æ‰§è¡Œï¼š
```bash
git add index.md
git commit -m "Update latest issue link"
git push
```

### 3. ç¼“å­˜é—®é¢˜
å¦‚æœçœ‹åˆ°çš„ä»æ˜¯æ—§é“¾æ¥ï¼Œå¯èƒ½æ˜¯æµè§ˆå™¨ç¼“å­˜ï¼Œå¼ºåˆ¶åˆ·æ–°å³å¯ï¼ˆCtrl+F5ï¼‰

---

## ğŸ“Š æ•ˆæœå¯¹æ¯”

### ä¹‹å‰ï¼ˆæ‰‹åŠ¨ï¼‰
```
æ–°æ–‡ç« å‘å¸ƒ â†’ æ‰‹åŠ¨ç¼–è¾‘ index.md 
         â†“
         æ‰‹åŠ¨ç¼–è¾‘ .vitepress/config.ts
         â†“
         å®¹æ˜“é—æ¼æˆ–å‡ºé”™
         â†“
         éœ€è¦3-5åˆ†é’Ÿ
```

### ç°åœ¨ï¼ˆè‡ªåŠ¨ï¼‰
```
æ–°æ–‡ç« å‘å¸ƒ â†’ è§¦å‘è‡ªåŠ¨éƒ¨ç½²
         â†“
         è‡ªåŠ¨æ›´æ–°æ‰€æœ‰é“¾æ¥
         â†“
         é›¶äººå·¥å¹²é¢„
         â†“
         è€—æ—¶ < 1ç§’
```

---

## ğŸ‰ æ€»ç»“

é€šè¿‡è¿™å¥—è‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œå®Œå…¨è§£å†³äº†ç¡¬ç¼–ç  URL çš„é—®é¢˜ï¼š

âœ… **è‡ªåŠ¨æ£€æµ‹** - æ™ºèƒ½è¯†åˆ«æœ€æ–°æœŸå·  
âœ… **è‡ªåŠ¨æ›´æ–°** - æ‰€æœ‰é“¾æ¥è‡ªåŠ¨æ›´æ–°  
âœ… **é›¶ç»´æŠ¤** - æ— éœ€ä»»ä½•æ‰‹åŠ¨æ“ä½œ  
âœ… **é«˜å¯é ** - ä¸ä¼šé—æ¼æˆ–å‡ºé”™  

ç°åœ¨ä½ å¯ä»¥å®Œå…¨æ”¾å¿ƒï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ä¸€åˆ‡ï¼ğŸš€

